<% if false %>
  Toggle component
  Usage:
    <%= render 'shared/ui/toggle',
        form: f,
        field: :stock_alerts_enabled,
        label: "Ativar alertas",
        hint: "Opcional" %>

    Or without form (using name):
    <%= render 'shared/ui/toggle',
        name: "account_config[stock_alerts_enabled]",
        checked: true,
        label: "Ativar alertas" %>
<% end %>

<%
  form = local_assigns[:form]
  field = local_assigns[:field]
  name = local_assigns[:name]
  label_text = local_assigns[:label] || ""
  hint = local_assigns[:hint]
  checked = local_assigns.key?(:checked) ? local_assigns[:checked] : false
  wrapper_class = local_assigns[:wrapper_class] || ""

  input_id = local_assigns[:id] || (form && field ? "#{form.object_name}_#{field}" : nil)
%>

<div class="flex items-center justify-between gap-3 <%= wrapper_class %>">
  <div class="min-w-0">
    <% if label_text.present? %>
      <p class="text-sm font-medium text-[#0e1b12] dark:text-white"><%= label_text %></p>
    <% end %>
    <% if hint.present? %>
      <p class="text-xs text-gray-500 dark:text-gray-400 mt-0.5"><%= hint %></p>
    <% end %>
  </div>

  <label class="relative inline-flex items-center cursor-pointer select-none">
    <% if form && field %>
      <%= form.check_box field,
          class: "sr-only peer",
          id: input_id %>
    <% else %>
      <%= check_box_tag name,
          "1",
          checked,
          class: "sr-only peer",
          id: input_id %>
    <% end %>

    <span class="w-11 h-6 bg-gray-200 dark:bg-gray-700 rounded-full peer peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-primary/30 peer-checked:bg-primary transition-colors"></span>
    <span class="absolute left-1 top-1 w-4 h-4 bg-white rounded-full transition-transform peer-checked:translate-x-5"></span>
  </label>
</div>

