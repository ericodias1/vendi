/* app/javascript/stylesheets/components.css */

/* === SHADOW UTILITIES === */
@theme {
  --shadow-xs: 0px 1px 2px 0px rgba(16, 24, 40, 0.05);
  --shadow-sm: 0px 1px 2px 0px rgba(16, 24, 40, 0.06), 0px 1px 3px 0px rgba(16, 24, 40, 0.10);
  --shadow-md: 0px 2px 4px -2px rgba(16, 24, 40, 0.06), 0px 4px 8px -2px rgba(16, 24, 40, 0.10);
  --shadow-lg: 0px 4px 6px -2px rgba(16, 24, 40, 0.03), 0px 12px 16px -4px rgba(16, 24, 40, 0.08);
  --shadow-xl: 0px 8px 8px -4px rgba(16, 24, 40, 0.03), 0px 20px 24px -4px rgba(16, 24, 40, 0.08);
  --shadow-2xl: 0px 24px 48px -12px rgba(16, 24, 40, 0.18);
  --shadow-3xl: 0px 32px 64px -12px rgba(16, 24, 40, 0.14);

  /* === BORDER RADIUS === */
  --radius-none: 0px;
  --radius-xxs: 2px;
  --radius-xs: 4px;
  --radius-sm: 6px;
  --radius-md: 8px;
  --radius-lg: 10px;
  --radius-xl: 12px;
  --radius-2xl: 16px;
  --radius-3xl: 20px;
  --radius-4xl: 24px;
  --radius-full: 9999px;
}

/* === BUTTON BASE STYLES === */
.btn-base {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-lg);
  font-weight: 600;
  transition: all 150ms ease;
  cursor: pointer;
  border: 1px solid transparent;
  text-decoration: none;
}

.btn-base:focus {
  outline: 2px solid var(--color-brand-600);
  outline-offset: 2px;
}

.btn-base:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

/* === BUTTON SIZES === */
.btn-sm {
  padding: 8px 14px;
  font-size: 0.875rem;
  line-height: 1.25rem;
  gap: 6px;
}

.btn-md {
  padding: 10px 16px;
  font-size: 0.875rem;
  line-height: 1.25rem;
  gap: 8px;
}

.btn-lg {
  padding: 12px 20px;
  font-size: 1rem;
  line-height: 1.5rem;
  gap: 8px;
}

.btn-xl {
  padding: 16px 28px;
  font-size: 1.125rem;
  line-height: 1.75rem;
  gap: 12px;
}

/* === BUTTON VARIANTS === */
.btn-primary {
  background-color: var(--color-button-primary-bg);
  border-color: var(--color-button-primary-border);
  color: var(--color-button-primary-fg);
  box-shadow: var(--shadow-xs);
}

.btn-primary:hover:not(:disabled) {
  background-color: var(--color-button-primary-bg-hover);
  border-color: var(--color-button-primary-border-hover);
}

.btn-secondary {
  background-color: #ffffff;
  border-color: #d1d5db;
  color: #374151;
  box-shadow: var(--shadow-xs);
}

.btn-secondary:hover:not(:disabled) {
  background-color: #f9fafb;
  border-color: #9ca3af;
  color: #111827;
}

.btn-tertiary {
  background-color: var(--color-button-tertiary-bg);
  border-color: transparent;
  color: var(--color-button-tertiary-fg);
}

.btn-tertiary:hover:not(:disabled) {
  background-color: var(--color-button-tertiary-bg-hover);
  color: var(--color-button-tertiary-fg-hover);
}

.btn-danger {
  background-color: var(--color-error-600);
  border-color: var(--color-error-600);
  color: #ffffff;
  box-shadow: var(--shadow-xs);
}

.btn-danger:hover:not(:disabled) {
  background-color: var(--color-error-700);
  border-color: var(--color-error-700);
}

/* === INPUT BASE STYLES === */
.input-base {
  width: 100%;
  border-radius: var(--radius-lg);
  border: 1px solid var(--color-border-primary);
  background-color: var(--color-bg-primary);
  color: var(--color-text-primary);
  transition: all 150ms ease;
  font-size: 1rem;
  line-height: 1.5rem;
}

.input-base::placeholder {
  color: var(--color-text-placeholder);
}

.input-base:focus {
  outline: none;
  border-color: var(--color-brand-300);
  box-shadow: 0px 0px 0px 4px var(--color-brand-100);
}

.input-base:disabled {
  background-color: var(--color-bg-disabled);
  color: var(--color-text-disabled);
  cursor: not-allowed;
}

/* === INPUT SIZES === */
.input-sm {
  padding: 8px 12px;
  font-size: 0.875rem;
  line-height: 1.25rem;
}

.input-md {
  padding: 10px 14px;
  font-size: 1rem;
  line-height: 1.5rem;
}

.input-lg {
  padding: 12px 16px;
  font-size: 1.125rem;
  line-height: 1.75rem;
}

/* === CARD STYLES === */
.card {
  background-color: var(--color-bg-primary);
  /* border: 1px solid var(--color-border-gray-100); */
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-sm);
  @apply border border-gray-100 dark:border-gray-800;
}

.card-body {
  padding: 1rem;
}

/* === TOAST STYLES === */
.toast-container {
  position: fixed;
  top: 1rem;
  right: 1rem;
  left: 1rem;
  z-index: 9999;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  pointer-events: none;
}

@media (min-width: 640px) {
  .toast-container {
    left: auto;
  }
}

.toast {
  min-width: 0;
  max-width: 420px;
  width: 100%;
  background-color: var(--color-bg-primary);
  border: 1px solid var(--color-border-primary);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-lg);
  padding: 0;
  opacity: 0;
  transform: translateX(100%);
  transition: all 300ms ease;
  pointer-events: auto;
}

.toast.toast-show {
  opacity: 1;
  transform: translateX(0);
}

.toast-content {
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
  padding: 1rem;
}

.toast-icon {
  flex-shrink: 0;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-top: 2px;
}

.toast-message {
  flex: 1;
  font-size: 0.875rem;
  line-height: 1.25rem;
  color: var(--color-text-primary);
}

.toast-close {
  flex-shrink: 0;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: none;
  background-color: transparent;
  color: var(--color-text-tertiary);
  cursor: pointer;
  border-radius: var(--radius-sm);
  transition: all 150ms ease;
  padding: 0;
  margin-top: 2px;
}

.toast-close:hover {
  background-color: var(--color-bg-secondary);
  color: var(--color-text-primary);
}

.toast-close:focus {
  outline: 2px solid var(--color-brand-300);
  outline-offset: 2px;
}

/* Toast Types */
.toast-success {
  border-color: var(--color-success-200);
  background-color: var(--color-success-50);
}

.toast-success .toast-icon {
  color: var(--color-success-600);
}

.toast-success .toast-message {
  color: var(--color-success-900);
}

.toast-error {
  border-color: var(--color-error-200);
  background-color: var(--color-error-50);
}

.toast-error .toast-icon {
  color: var(--color-error-600);
}

.toast-error .toast-message {
  color: var(--color-error-900);
}

.toast-warning {
  border-color: var(--color-warning-200);
  background-color: var(--color-warning-50);
}

.toast-warning .toast-icon {
  color: var(--color-warning-600);
}

.toast-warning .toast-message {
  color: var(--color-warning-900);
}

.toast-info {
  border-color: var(--color-brand-200);
  background-color: var(--color-brand-50);
}

.toast-info .toast-icon {
  color: var(--color-brand-600);
}

.toast-info .toast-message {
  color: var(--color-brand-900);
}

/* === TABLE CONTAINER === */
.card .table-container {
  margin: -1rem;
  border-radius: 1rem;
}

/* Tabela de revisão de importação: scroll vertical e horizontal (altura definida pelo layout flex/vh) */
.import-table-scroll {
  overflow: auto;
}
.import-table-scroll::-webkit-scrollbar {
  width: 8px;
  height: 12px;
}
.import-table-scroll::-webkit-scrollbar-track {
  background: #f1f5f9;
  border-radius: 6px;
}
.import-table-scroll::-webkit-scrollbar-thumb {
  background: #cbd5e1;
  border-radius: 6px;
}
.dark .import-table-scroll::-webkit-scrollbar-track {
  background: #334155;
}
.dark .import-table-scroll::-webkit-scrollbar-thumb {
  background: #475569;
}

.card.rounded-none .table-container {
  border-top-left-radius: 0;
  border-top-right-radius: 0;
}

/* === LINK STYLES === */
.link-primary {
  color: var(--color-primary);
  font-weight: 700;
  text-decoration: none;
  transition: all 150ms ease;
}

.link-primary:hover {
  text-decoration: underline;
  color: var(--color-primary-dark);
}

.link-primary:focus {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
  border-radius: 2px;
}

.link-secondary {
  color: var(--color-text-secondary);
  font-weight: 500;
  text-decoration: none;
  transition: all 150ms ease;
}

.link-secondary:hover {
  text-decoration: underline;
  color: var(--color-text-primary);
}

.link-sm {
  font-size: 0.875rem;
}

.link-xs {
  font-size: 0.75rem;
}

/* === BUTTON LINK STYLES === */
.btn-link {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  text-decoration: none;
  border: none;
  background: transparent;
  cursor: pointer;
  transition: all 150ms ease;
  font-weight: 600;
}

.btn-link-primary {
  color: var(--color-primary);
}

.btn-link-primary:hover {
  color: var(--color-primary-dark);
  text-decoration: underline;
}

.btn-link-secondary {
  color: var(--color-text-secondary);
}

.btn-link-secondary:hover {
  color: var(--color-text-primary);
  text-decoration: underline;
}

.btn-link:focus {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
  border-radius: 2px;
}

/* === FIXED FOOTER (Form Actions) === */
.fixed-footer {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 1rem;
  background-color: rgba(246, 248, 246, 0.95);
  backdrop-filter: blur(12px);
  border-top: 1px solid rgba(0, 0, 0, 0.05);
  z-index: 30;
}

.dark .fixed-footer {
  background-color: rgba(17, 33, 22, 0.95);
  border-top-color: rgba(255, 255, 255, 0.05);
}

/* Mobile: Consider bottom navigation (h-16 = 4rem) */
@media (max-width: 1023px) {
  .fixed-footer {
    bottom: 4rem; /* 64px for bottom nav */
    left: 0;
    right: 0;
  }
}

/* Desktop: Consider sidebar (w-64 = 16rem) */
@media (min-width: 1024px) {
  .fixed-footer {
    left: 16rem; /* 256px for sidebar */
    bottom: 0;
    right: 0;
  }
}

/* === CHECKBOX PRIMARY (check branco) === */
.checkbox-primary {
  -webkit-appearance: none;
  appearance: none;
  width: 1.25rem;
  height: 1.25rem;
  border: 2px solid var(--color-primary-300, #cbd5e1);
  border-radius: 6px;
  background: white;
  cursor: pointer;
  transition: border-color 0.15s, background-color 0.15s, box-shadow 0.15s;
}

.checkbox-primary:focus {
  outline: none;
  box-shadow: 0 0 0 2px white, 0 0 0 4px var(--color-primary);
}

.checkbox-primary:checked {
  border-color: var(--color-primary);
  background-color: var(--color-primary);
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='20 6 9 17 4 12'%3E%3C/polyline%3E%3C/svg%3E");
  background-size: 100% 100%;
  background-position: center;
  background-repeat: no-repeat;
}

.dark .checkbox-primary {
  background: var(--color-primary-800, #1e293b);
  border-color: var(--color-primary-600, #475569);
}

.dark .checkbox-primary:focus {
  box-shadow: 0 0 0 2px var(--color-primary-900, #0f172a), 0 0 0 4px var(--color-primary);
}
